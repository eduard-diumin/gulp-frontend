# Gulp  
> Використовується Gulp 5. 

## Початок роботи з збіркою

Для роботи з цією збіркою в новому проєкті, склонуйте весь вміст репозиторію: <br>
`git clone <this repo>`
Потім, перебуваючи в корені проєкту, запустіть команду __npm i__, яка встановить усі залежності, вказані у файлі package.json.
Після цього ви можете використовувати будь-яку з запропонованих команд збірки (докладніше – нижче, у розділі npm-скрипти).

## Структура папок и файлов

```
├── gulp/                         # Все настройки Gulp-сборки, разделенные по отдельным файлам
├── src/                          # Исходники
│   ├── js                        # Скрипты
│   │   └── main.js               # Главный скрипт
│   │   ├── _components.js        # файл с подключениями компонентов
│   │   ├── components            # js-компоненты
│   ├── scss                      # Стили сайта (препроцессор sass в scss-синтаксисе)
│   │   └── main.scss             # Главный файл стилей
│   │   └── vendor.scss           # Файл для подключения стилей библиотек из папки vendor
│   │   └── _fonts.scss           # Файл для подключения шрифтов (можно использовать миксин)
│   │   └── _vars.scss            # Файл для написания css- или scss-переменных
│   │   └── _settings.scss        # Файл для написания глобальных стилей
│   │   ├── components            # scss-компоненты
│   │   ├── vendor                # папка для хранения локальных css-стилей библиотек
│   ├── partials                  # папка для хранения html-частей страницы
│   ├── img                       # папка для хранения картинок
│   │   ├── svg                   # специальная папка для преобразования svg в спрайт
│   ├── resources                 # папка для хранения иных ассетов - php, видео-файлы, favicon и т.д.
│   │   ├── fonts                 # папка для хранения шрифтов в формате woff2
│   └── index.html                # Главный html-файл
└── gulpfile.js                   # Результирующий файл с настройками Gulp
└── package.json                  # файл с настройками сборки и установленными пакетами
└── .editorconfig                 # файл с настройками форматирования кода
└── .ecrc                         # файл с настройками пакета editorconfig-checker (исключает ненужные папки)
└── .stylelintrc.json             # файл с настройками stylelint
└── .stylelintignore              # файл с исключениями для stylelint
└── .htmlhintrc                   # файл с настройками htmlhint
└── README.md                     # документация сборки
```

## Зміст
1. [npm-скрипти](#npm-скрипти)
2. [Робота з HTML](#робота-з-html)
3. [Робота з CSS](#робота-з-css)
4. [Робота з JavaScript](#робота-з-javascript)
5. [Робота зі шрифтами](#робота-зі-шрифтами)
6. [Робота із зображеннями](#робота-із-зображеннями)
7. [Робота з іншими ресурсами](#робота-з-іншими-ресурсами)


## npm-скрипти

Викликати різні Gulp-задачі потрібно __тільки__ через npm-команди, оскільки звичайні команди Gulp працюють некоректно.

* `npm run stylelint` — запускає перевірку всіх SCSS-файлів на відповідність Stylelint.
* `npm run style-fix` — перевіряє та автоматично виправляє SCSS-файли на відповідність Stylelint.
* `npm run code` — запускає перевірку всіх файлів на відповідність EditorConfig.
* `npm run dev` — базова команда, яка запускає Gulp у режимі розробки.
* `npm run build` — запускає продакшн-версію збірки. У цю команду включено перевірку Stylelint та EditorConfig. Якщо файли не відповідають правилам, проєкт не збереться.


## Робота з html

Завдяки плагіну __gulp-file-include__ ви можете розділяти HTML-файл на різні шаблони, які повинні зберігатися в папці __partials__. Це зручно для поділу HTML-сторінки на секції.

> Для вставки HTML-частин у головний файл використовуйте `@include('partials/filename.html')`

Якщо вам потрібно створити багатосторінковий сайт, просто копіюйте  __index.html__, перейменовуйте, як вам потрібно, і використовуйте.


## Робота з CSS

У збірці використовується препроцесор __sass__ у синтаксисі __scss__.

Стилі, написані у папці __components__, слід підключати у файл  __main.scss__.

Щоб підключити сторонні CSS-файли (бібліотеки), помістіть їх у папку __vendor__ та підключіть у файлі  __vendor.scss__.

Якщо вам потрібні SCSS-змінні, підключіть __vars.scss__ у файл main.scss або в будь-якому іншому потрібному місці, але обов’язково видаліть блок __:root__.

> Для підключення CSS-файлів використовуйте директиву `@import`

В підсумковій папці __app/css__ створюються два файли: <br> 
__main.css__  — для стилів сторінки. <br>
 __vendor.css__ - для стилів усіх бібліотек, які використовуються у проєкті.

При використанні команди `npm run build` ви отримаєте мініфікований CSS-код в один рядок для всіх CSS-файлів.

## Робота з JavaScript

Для збірки JS-коду використовується webpack.

Рекомендується розділяти JS-код на компоненти — невеликі файли з ізольованою реалізацією. Такі файли поміщайте в папку __components__ і підключайте в файл __components.js__.

У файлі __main.js__ нічого змінювати не потрібно — він використовується як підсумковий файл.

Підключати бібліотеки можна лише через npm. Для цього встановіть потрібний пакет, створіть у папці __components__ файл, імпортуйте туди бібліотеку та працюйте з нею. Не забудьте імпортувати цей файл у __components.js__.

При використанні команди `npm run build` ви отримаєте мініфікований JS-код в один рядок для всіх JS-файлів.

## Робота со шрифтами

Не забудьте також прописати шрифти в `<link preload>` у HTML.

## Робота із зображеннями

Усі зображення, окрім __favicon__ зберігайте в папці __img__.

Якщо потрібно створити SVG-спрайт, помістіть потрібні SVG-файли в папку __img/svg__. Під час обробки атрибути fill, stroke, style автоматично видаляються. Інші SVG-файли залишайте в папці __img__.

При використанні команди `npm run build` ви отримаєте оптимізовані зображення у підсумковій папці img.

Збірка підтримує формат webp. Ви можете підключити його через тег `picture`. Для background використовуйте звичайні jpg або png, або директиву `image-set`, якщо це можливо.

## Работа с иными ресурсами

Усі ресурси проєкту, для яких немає окремої папки, слід зберігати в папці __resources__. Це можуть бути відео-файли, favicon та інше.

